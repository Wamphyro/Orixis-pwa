/* ========================================
   STATS-CARDS.WIDGET.CSS - Styles du widget StatsCards
   Chemin: /widgets/stats-cards/stats-cards.widget.css
   
   DESCRIPTION:
   Styles pour le widget de cartes statistiques.
   Gère les tailles, colonnes, sélection multiple et animations.
   Inclut maintenant les styles pour le wrapper/container englobant.
   
   STRUCTURE:
   1. VARIABLES ET CONFIGURATION
   2. WRAPPER ENGLOBANT (NOUVEAU)
   3. CONTAINER ET LAYOUT
   4. CARTE DE BASE
   5. ÉLÉMENTS INTERNES
   6. TAILLES (sm, md, lg)
   7. COLONNES (2, 3, 4, 6)
   8. SÉLECTION
   9. VARIANTES DE COULEURS
   10. ANIMATIONS
   11. RESPONSIVE
   12. THÈMES ET UTILITAIRES
   
   CLASSES PRINCIPALES:
   - .stats-cards-container : Container englobant optionnel (NOUVEAU)
   - .stats-cards-wrapper : Container des cartes
   - .stat-card : Carte individuelle
   - .size-[sm|md|lg] : Tailles
   - .cols-[2|3|4|6] : Colonnes fixes
   - .selection-[none|single|multiple] : Modes de sélection
   - .wrapper-[card|minimal|bordered] : Styles du wrapper (NOUVEAU)
   
   MODIFICATIONS:
   - 08/02/2025 : Création initiale
   - 08/02/2025 : Ajout des styles pour wrapper englobant
   
   AUTEUR: Assistant Claude & [Ton nom]
   VERSION: 1.1.0
   ======================================== */

/* ========================================
   SECTION 1 : VARIABLES ET CONFIGURATION
   ======================================== */

:root {
    /* Couleurs de base */
    --card-bg: white;
    --card-border: #e0e0e0;
    --card-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
    --card-shadow-hover: 0 10px 30px rgba(0, 0, 0, 0.12);
    
    /* Couleurs du wrapper */
    --wrapper-bg: white;
    --wrapper-border: #e9ecef;
    --wrapper-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    --wrapper-radius: 16px;
    
    /* Couleurs de sélection */
    --selection-bg: #f0f4ff;
    --selection-border: #667eea;
    --selection-check-bg: #667eea;
    
    /* Espacements par taille */
    --padding-sm: 5px 10px;
    --padding-md: 10px 20px;
    --padding-lg: 15px 30px;
    
    /* Tailles de police */
    --number-size-sm: 18px;
    --number-size-md: 24px;
    --number-size-lg: 32px;
    
    --label-size-sm: 11px;
    --label-size-md: 12px;
    --label-size-lg: 14px;
    
    --icon-size-sm: 16px;
    --icon-size-md: 20px;
    --icon-size-lg: 28px;
}

/* ========================================
   SECTION 2 : WRAPPER ENGLOBANT (NOUVEAU)
   Container optionnel qui englobe toutes les cartes
   ======================================== */

/* ----------------
   Container de base
   ---------------- */
.stats-cards-container {
    /* Transition pour l'animation d'apparition */
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}

/* État chargé du container */
.stats-cards-container.loaded {
    opacity: 1;
}

/* ----------------
   Style "card" (défaut)
   Style élégant avec ombre et fond blanc
   ---------------- */
.stats-cards-container.wrapper-card {
    background: var(--wrapper-bg);
    border-radius: var(--wrapper-radius);
    padding: 20px;
    box-shadow: var(--wrapper-shadow);
    /* Optionnel : bordure subtile */
    border: 1px solid rgba(0, 0, 0, 0.05);
}

/* ----------------
   Style "minimal"
   Sans ombre, juste un fond léger
   ---------------- */
.stats-cards-container.wrapper-minimal {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 16px;
    /* Pas d'ombre */
}

/* ----------------
   Style "bordered"
   Bordure visible sans ombre
   ---------------- */
.stats-cards-container.wrapper-bordered {
    background: transparent;
    border: 2px solid var(--wrapper-border);
    border-radius: var(--wrapper-radius);
    padding: 20px;
    /* Pas d'ombre */
}

/* ----------------
   Titre du wrapper (optionnel)
   ---------------- */
.stats-cards-container-title {
    font-size: 16px;
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--wrapper-border);
}

/* Ajustements quand il y a un titre */
.stats-cards-container-title + .stats-cards-wrapper {
    margin-top: 0;
}

/* ========================================
   SECTION 3 : CONTAINER ET LAYOUT
   ======================================== */

.stats-cards-wrapper {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    /* Anti-FOUC (seulement si pas dans un container) */
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}

/* État chargé (seulement si pas dans un container) */
.stats-cards-wrapper.loaded {
    opacity: 1;
}

/* Si dans un container, pas besoin de double opacity */
.stats-cards-container .stats-cards-wrapper {
    opacity: 1 !important;
    transition: none;
}

/* Layout en colonnes fixes */
.stats-cards-wrapper.cols-2 { 
    display: grid;
    grid-template-columns: repeat(2, 1fr);
}

.stats-cards-wrapper.cols-3 { 
    display: grid;
    grid-template-columns: repeat(3, 1fr);
}

.stats-cards-wrapper.cols-4 { 
    display: grid;
    grid-template-columns: repeat(4, 1fr);
}

.stats-cards-wrapper.cols-6 { 
    display: grid;
    grid-template-columns: repeat(6, 1fr);
}

/* ========================================
   SECTION 4 : CARTE DE BASE
   ======================================== */

.stat-card {
    background: var(--card-bg);
    border-radius: 12px;
    padding: var(--padding-md);
    box-shadow: var(--card-shadow);
    text-align: center;
    min-width: 120px;
    flex: 1;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    border: 2px solid transparent;
}

/* Dans un container minimal, réduire l'ombre des cartes */
.wrapper-minimal .stat-card {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* Dans un container bordered, pas d'ombre sur les cartes */
.wrapper-bordered .stat-card {
    box-shadow: none;
    border: 1px solid var(--card-border);
}

/* Effet de brillance au survol */
.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.5s ease;
}

.stat-card.hoverable:hover::before {
    left: 100%;
}

/* États interactifs */
.stat-card.hoverable:hover {
    transform: translateY(-5px);
    box-shadow: var(--card-shadow-hover);
}

.stat-card.clickable {
    cursor: pointer;
}

.stat-card.clicked {
    animation: cardClick 0.3s ease;
}

/* État désactivé */
.stat-card.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
}

.stat-card.disabled:hover {
    transform: none;
    box-shadow: var(--card-shadow);
}

/* ========================================
   SECTION 5 : ÉLÉMENTS INTERNES
   ======================================== */

/* Icône */
.stat-icon {
    font-size: var(--icon-size-md);
    margin-bottom: 5px;
    opacity: 0.8;
    transition: all 0.3s ease;
}

/* Nombre */
.stat-number {
    font-size: var(--number-size-md);
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 2px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.1;
    transition: all 0.3s ease;
}

/* Label */
.stat-label {
    font-size: var(--label-size-md);
    color: #6c757d;
    font-weight: 500;
}

/* Sous-label */
.stat-sublabel {
    font-size: 11px;
    color: #adb5bd;
    margin-top: 4px;
}

/* Tendance */
.stat-trend {
    margin-top: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    font-size: 12px;
}

.trend-icon {
    font-weight: bold;
    font-size: 14px;
}

.trend-success { color: #28a745; }
.trend-danger { color: #dc3545; }
.trend-neutral { color: #6c757d; }

/* ========================================
   SECTION 6 : TAILLES
   ======================================== */

/* ----------------
   Small (sm)
   ---------------- */
.size-sm .stat-card {
    padding: var(--padding-sm);
    min-width: 100px;
}

.size-sm .stat-icon {
    font-size: var(--icon-size-sm);
    margin-bottom: 3px;
}

.size-sm .stat-number {
    font-size: var(--number-size-sm);
}

.size-sm .stat-label {
    font-size: var(--label-size-sm);
}

.size-sm .stat-sublabel {
    font-size: 10px;
}

/* ----------------
   Medium (md) - Par défaut
   ---------------- */
.size-md .stat-card {
    padding: var(--padding-md);
    min-width: 120px;
}

.size-md .stat-icon {
    font-size: var(--icon-size-md);
}

.size-md .stat-number {
    font-size: var(--number-size-md);
}

.size-md .stat-label {
    font-size: var(--label-size-md);
}

/* ----------------
   Large (lg)
   ---------------- */
.size-lg .stat-card {
    padding: var(--padding-lg);
    min-width: 150px;
}

.size-lg .stat-icon {
    font-size: var(--icon-size-lg);
    margin-bottom: 8px;
}

.size-lg .stat-number {
    font-size: var(--number-size-lg);
    margin-bottom: 5px;
}

.size-lg .stat-label {
    font-size: var(--label-size-lg);
}

.size-lg .stat-sublabel {
    font-size: 13px;
}

/* ----------------
   Extra Small (xs) - NOUVEAU
   ---------------- */
.size-xs .stat-card {
    padding: 5px 8px;
    min-width: 60px;
    max-width: 75px;
}

.size-xs .stat-icon {
    font-size: 14px;
    margin-bottom: 2px;
}

.size-xs .stat-number {
    font-size: 16px;
    margin-bottom: 0;
}

.size-xs .stat-label {
    font-size: 10px;
    font-weight: 600;
}

.size-xs .stat-sublabel,
.size-xs .stat-trend {
    display: none;
}

.size-xs .stat-card.selected::after {
    width: 14px;
    height: 14px;
    font-size: 9px;
    top: 2px;
    right: 2px;
}

/* ----------------
   13 colonnes et force sur une ligne - NOUVEAU
   ---------------- */
.cols-13,
.force-one-line {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    gap: 8px !important;
    grid-template-columns: none !important;
}

.cols-13 .stat-card,
.force-one-line .stat-card {
    flex: 0 0 auto !important;
    min-width: 65px !important;
    max-width: 75px !important;
}

/* Mode compact - NOUVEAU */
.compact-mode .stat-card {
    padding: 6px 4px !important;
}

.compact-mode .stat-icon {
    font-size: 14px !important;
}

.compact-mode .stat-number {
    font-size: 15px !important;
}

.compact-mode .stat-label {
    font-size: 9px !important;
}

/* Scrollbar personnalisée pour la ligne de cartes */
.force-one-line::-webkit-scrollbar,
.cols-13::-webkit-scrollbar {
    height: 6px;
}

.force-one-line::-webkit-scrollbar-track,
.cols-13::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.force-one-line::-webkit-scrollbar-thumb,
.cols-13::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
}

.force-one-line::-webkit-scrollbar-thumb:hover,
.cols-13::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* ========================================
   SECTION 7 : COLONNES
   ======================================== */

/* Ajustements pour colonnes fixes */
.cols-2 .stat-card,
.cols-3 .stat-card,
.cols-4 .stat-card,
.cols-6 .stat-card {
    min-width: unset;
    width: 100%;
}

/* Gaps pour les grilles */
.cols-2,
.cols-3,
.cols-4,
.cols-6 {
    gap: 20px;
}

/* ========================================
   SECTION 8 : SÉLECTION
   ======================================== */

/* Mode sans sélection */
.selection-none .stat-card {
    cursor: default;
}

/* Mode sélection simple et multiple */
.selection-single .stat-card.clickable,
.selection-multiple .stat-card.clickable {
    cursor: pointer;
}

/* État sélectionné */
.stat-card.selected {
    background: var(--selection-bg);
    border-color: var(--selection-border);
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
}

.stat-card.selected:hover {
    transform: translateY(-3px);
}

.stat-card.selected .stat-number {
    opacity: 1;
}

.stat-card.selected .stat-icon {
    transform: scale(1.1);
}

/* Indicateur de sélection (checkmark) */
.stat-card.selected::after {
    content: '✓';
    position: absolute;
    top: 8px;
    right: 8px;
    background: var(--selection-check-bg);
    color: white;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    animation: checkIn 0.3s ease;
}

/* Ajustements pour les petites tailles */
.size-sm .stat-card.selected::after {
    width: 16px;
    height: 16px;
    font-size: 10px;
    top: 5px;
    right: 5px;
}

.size-lg .stat-card.selected::after {
    width: 24px;
    height: 24px;
    font-size: 14px;
    top: 10px;
    right: 10px;
}

/* ========================================
   SECTION 9 : VARIANTES DE COULEURS
   ======================================== */

/* Primary */
.stat-card-primary .stat-number {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-card-primary .stat-icon {
    color: #667eea;
}

/* Success */
.stat-card-success .stat-number {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-card-success .stat-icon {
    color: #28a745;
}

/* Warning */
.stat-card-warning .stat-number {
    background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-card-warning .stat-icon {
    color: #ffc107;
}

/* Danger */
.stat-card-danger .stat-number {
    background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-card-danger .stat-icon {
    color: #dc3545;
}

/* Info */
.stat-card-info .stat-number {
    background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-card-info .stat-icon {
    color: #17a2b8;
}

/* Secondary */
.stat-card-secondary .stat-number {
    background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-card-secondary .stat-icon {
    color: #6c757d;
}

/* ========================================
   SECTION 10 : ANIMATIONS
   ======================================== */

/* Animation de clic */
@keyframes cardClick {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

/* Animation d'apparition du check */
@keyframes checkIn {
    0% { 
        transform: scale(0) rotate(-180deg);
        opacity: 0;
    }
    50% {
        transform: scale(1.2) rotate(20deg);
    }
    100% { 
        transform: scale(1) rotate(0);
        opacity: 1;
    }
}

/* Animation d'apparition des cartes */
.stats-cards-wrapper.loaded .stat-card {
    animation: fadeInUp 0.5s ease forwards;
    opacity: 0;
}

/* Si dans un container, pas d'animation sur le wrapper */
.stats-cards-container .stats-cards-wrapper.loaded .stat-card {
    animation: fadeInUp 0.5s ease forwards;
    opacity: 0;
}

.stats-cards-wrapper.loaded .stat-card:nth-child(1) { animation-delay: 0.05s; }
.stats-cards-wrapper.loaded .stat-card:nth-child(2) { animation-delay: 0.1s; }
.stats-cards-wrapper.loaded .stat-card:nth-child(3) { animation-delay: 0.15s; }
.stats-cards-wrapper.loaded .stat-card:nth-child(4) { animation-delay: 0.2s; }
.stats-cards-wrapper.loaded .stat-card:nth-child(5) { animation-delay: 0.25s; }
.stats-cards-wrapper.loaded .stat-card:nth-child(6) { animation-delay: 0.3s; }
.stats-cards-wrapper.loaded .stat-card:nth-child(7) { animation-delay: 0.35s; }
.stats-cards-wrapper.loaded .stat-card:nth-child(8) { animation-delay: 0.4s; }

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* État de chargement (skeleton) */
.stats-cards-wrapper.loading .stat-card {
    background: linear-gradient(90deg, #f9fafb 25%, #f3f4f6 50%, #f9fafb 75%);
    background-size: 200% 100%;
    animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* Désactiver les animations */
.stats-cards-wrapper.no-animation .stat-card {
    animation: none !important;
    opacity: 1 !important;
}

.stats-cards-wrapper.no-animation .stat-card.selected::after {
    animation: none;
}

/* ========================================
   SECTION 11 : RESPONSIVE
   ======================================== */

/* Tablette */
@media (max-width: 768px) {
    /* Wrapper englobant responsive */
    .stats-cards-container.wrapper-card {
        padding: 16px;
        border-radius: 12px;
    }
    
    .stats-cards-wrapper {
        gap: 15px;
    }
    
    /* Forcer 2 colonnes sur tablette pour cols-4 et cols-6 */
    .stats-cards-wrapper.cols-4,
    .stats-cards-wrapper.cols-6 {
        grid-template-columns: repeat(2, 1fr);
    }
    
    /* Ajuster les tailles sur tablette */
    .size-lg .stat-card {
        padding: var(--padding-md);
    }
    
    .size-lg .stat-number {
        font-size: var(--number-size-md);
    }
}

/* Mobile */
@media (max-width: 480px) {
    /* Wrapper englobant mobile */
    .stats-cards-container.wrapper-card {
        padding: 12px;
        border-radius: 8px;
        margin: 10px;
    }
    
    .stats-cards-container-title {
        font-size: 14px;
        margin-bottom: 12px;
        padding-bottom: 8px;
    }
    
    .stats-cards-wrapper {
        gap: 10px;
    }
    
    /* Une seule colonne sur mobile */
    .stats-cards-wrapper.cols-2,
    .stats-cards-wrapper.cols-3,
    .stats-cards-wrapper.cols-4,
    .stats-cards-wrapper.cols-6 {
        grid-template-columns: 1fr;
    }
    
    /* Mode flex par défaut : 2 cartes par ligne */
    .stats-cards-wrapper:not(.cols-2):not(.cols-3):not(.cols-4):not(.cols-6) .stat-card {
        min-width: calc(50% - 5px);
    }
    
    /* Cacher les éléments secondaires */
    .stat-sublabel,
    .trend-label {
        display: none;
    }
    
    /* Ajuster les tailles */
    .size-md .stat-card,
    .size-lg .stat-card {
        padding: var(--padding-sm);
    }
    
    .size-md .stat-number,
    .size-lg .stat-number {
        font-size: var(--number-size-sm);
    }
    
    .size-md .stat-icon,
    .size-lg .stat-icon {
        font-size: var(--icon-size-sm);
    }
}

/* Très petit mobile */
@media (max-width: 360px) {
    /* Une carte par ligne en mode flex */
    .stats-cards-wrapper:not(.cols-2):not(.cols-3):not(.cols-4):not(.cols-6) .stat-card {
        min-width: 100%;
    }
}

/* ========================================
   SECTION 12 : THÈMES ET UTILITAIRES
   ======================================== */

/* Thème sombre */
.theme-dark .stat-card {
    background: #2c3e50;
    color: white;
}

.theme-dark .stat-number {
    background: linear-gradient(135deg, #74b9ff 0%, #a29bfe 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.theme-dark .stat-label {
    color: #bdc3c7;
}

.theme-dark .stat-card.selected {
    background: #34495e;
    border-color: #74b9ff;
}

/* Thème sombre pour le wrapper */
.theme-dark .stats-cards-container {
    background: #34495e;
    color: white;
}

.theme-dark .stats-cards-container-title {
    color: white;
    border-bottom-color: rgba(255, 255, 255, 0.1);
}

/* Thème minimal */
.theme-minimal .stat-card {
    background: transparent;
    box-shadow: none;
    border: 2px solid #e9ecef;
}

.theme-minimal .stat-card:hover {
    border-color: #667eea;
    box-shadow: none;
    transform: none;
}

.theme-minimal .stat-card.selected {
    background: var(--selection-bg);
    border-color: var(--selection-border);
}

/* Impression */
@media print {
    .stats-cards-container {
        box-shadow: none;
        border: 1px solid #dee2e6;
    }
    
    .stat-card {
        box-shadow: none;
        border: 1px solid #dee2e6;
        page-break-inside: avoid;
    }
    
    .stat-card::before,
    .stat-card.selected::after {
        display: none;
    }
    
    .stats-cards-wrapper,
    .stats-cards-container {
        opacity: 1 !important;
    }
    
    .stats-cards-wrapper .stat-card {
        opacity: 1 !important;
        animation: none !important;
    }
}

/* ========================================
   MODE AUTO-FIT (ADAPTATION AUTOMATIQUE)
   ======================================== */

/* Adaptation automatique à la largeur du container */
.stats-cards-wrapper.auto-fit {
    display: flex !important;
    flex-wrap: nowrap !important;
    gap: 10px !important;
    width: 100% !important;
}

.stats-cards-wrapper.auto-fit .stat-card {
    flex: 1 1 0 !important;     /* Répartition égale */
    min-width: 0 !important;     /* Permet le rétrécissement */
    max-width: none !important;  /* Pas de limite */
    box-shadow: none !important; /* Pas d'ombre par défaut */
    border: 1px solid #e0e0e0;
}

.stats-cards-wrapper.auto-fit .stat-card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
    transform: translateY(-2px);
}

.stats-cards-wrapper.auto-fit .stat-card.selected {
    box-shadow: 0 0 0 2px var(--selection-border) !important;
    border-color: var(--selection-border);
}

/* Ajustement automatique de la taille selon le nombre de cartes */

/* 1-3 cartes : grandes */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+1):nth-last-child(-n+3):first-child,
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+1):nth-last-child(-n+3):first-child ~ .stat-card {
    padding: 15px 20px;
}

/* 4-6 cartes : moyennes */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+4):nth-last-child(-n+6):first-child,
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+4):nth-last-child(-n+6):first-child ~ .stat-card {
    padding: 12px 15px;
}

/* 7-9 cartes : petites */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+7):nth-last-child(-n+9):first-child,
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+7):nth-last-child(-n+9):first-child ~ .stat-card {
    padding: 10px 12px;
}

/* 10-12 cartes : très petites */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+10):nth-last-child(-n+12):first-child,
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+10):nth-last-child(-n+12):first-child ~ .stat-card {
    padding: 8px 10px;
}

/* 13+ cartes : ultra compact */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+13):first-child,
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+13):first-child ~ .stat-card {
    padding: 8px 6px;
}

/* Ajustement du texte pour 10+ cartes */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+10):first-child ~ .stat-card .stat-label {
    font-size: 10px !important;
}

.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+10):first-child ~ .stat-card .stat-number {
    font-size: 16px !important;
}

.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+10):first-child ~ .stat-card .stat-icon {
    font-size: 18px !important;
}

/* Ajustement pour 13+ cartes */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+13):first-child ~ .stat-card .stat-label {
    font-size: 9px !important;
    font-weight: 600 !important;
}

.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+13):first-child ~ .stat-card .stat-number {
    font-size: 15px !important;
}

.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+13):first-child ~ .stat-card .stat-icon {
    font-size: 16px !important;
    margin-bottom: 2px !important;
}

/* Checkmark plus petit pour auto-fit avec beaucoup de cartes */
.stats-cards-wrapper.auto-fit .stat-card:nth-last-child(n+10):first-child ~ .stat-card.selected::after {
    width: 14px !important;
    height: 14px !important;
    font-size: 9px !important;
    top: 3px !important;
    right: 3px !important;
}

/* Mode responsive : scroll horizontal sur mobile */
@media (max-width: 768px) {
    .stats-cards-wrapper.auto-fit {
        overflow-x: auto !important;
        padding-bottom: 8px;
    }
    
    .stats-cards-wrapper.auto-fit .stat-card {
        flex: 0 0 auto !important;
        min-width: 70px !important;
        padding: 8px 6px !important;
    }
    
    /* Scrollbar personnalisée */
    .stats-cards-wrapper.auto-fit::-webkit-scrollbar {
        height: 6px;
    }
    
    .stats-cards-wrapper.auto-fit::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
    }
    
    .stats-cards-wrapper.auto-fit::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 3px;
    }
}

/* ========================================
   FIN DU FICHIER
   ======================================== */