/* ========================================
   BUTTON.CSS - Styles pour le composant Button
   Chemin: src/css/shared/ui/button.css
   
   DESCRIPTION:
   Styles complets pour le système de boutons avec effet glassmorphism.
   Supporte tous les types, styles, tailles, animations et états.
   
   STRUCTURE:
   1. Variables et configuration (lignes 20-150)
   2. Styles de base (lignes 152-300)
   3. Types de boutons (lignes 302-600)
   4. Styles visuels (lignes 602-900)
   5. Tailles (lignes 902-1000)
   6. États et interactions (lignes 1002-1200)
   7. Animations (lignes 1202-1500)
   8. Composants internes (lignes 1502-1800)
   9. Variantes spéciales (lignes 1802-2000)
   10. Responsive et accessibilité (lignes 2002-2200)
   
   DÉPENDANCES:
   - button.component.js (utilise toutes ces classes)
   ======================================== */

/* ========================================
   VARIABLES ET CONFIGURATION
   ======================================== */
:root {
    /* Couleurs glassmorphism par type */
    --btn-primary-bg: rgba(59, 130, 246, 0.1);
    --btn-primary-color: #3b82f6;
    --btn-primary-border: rgba(59, 130, 246, 0.2);
    --btn-primary-hover: rgba(59, 130, 246, 0.2);
    --btn-primary-active: rgba(59, 130, 246, 0.3);
    
    --btn-secondary-bg: rgba(107, 114, 128, 0.1);
    --btn-secondary-color: #6b7280;
    --btn-secondary-border: rgba(107, 114, 128, 0.2);
    
    --btn-success-bg: rgba(34, 197, 94, 0.1);
    --btn-success-color: #22c55e;
    --btn-success-border: rgba(34, 197, 94, 0.2);
    
    --btn-danger-bg: rgba(239, 68, 68, 0.1);
    --btn-danger-color: #ef4444;
    --btn-danger-border: rgba(239, 68, 68, 0.2);
    
    --btn-warning-bg: rgba(251, 191, 36, 0.1);
    --btn-warning-color: #fbbf24;
    --btn-warning-border: rgba(251, 191, 36, 0.2);
    
    --btn-info-bg: rgba(59, 130, 246, 0.1);
    --btn-info-color: #3b82f6;
    --btn-info-border: rgba(59, 130, 246, 0.2);
    
    /* Effets glassmorphism */
    --btn-glass-blur: 20px;
    --btn-glass-brightness: 1.1;
    --btn-glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    --btn-glass-inner-light: inset 0 1px 0 rgba(255, 255, 255, 0.2);
    --btn-glass-inner-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.1);
    
    /* Espacement et dimensions */
    --btn-padding-xs: 6px 12px;
    --btn-padding-sm: 8px 16px;
    --btn-padding-md: 10px 20px;
    --btn-padding-lg: 12px 28px;
    --btn-padding-xl: 16px 32px;
    --btn-padding-jumbo: 20px 40px;
    
    --btn-height-xs: 28px;
    --btn-height-sm: 32px;
    --btn-height-md: 40px;
    --btn-height-lg: 48px;
    --btn-height-xl: 56px;
    --btn-height-jumbo: 72px;
    
    --btn-font-xs: 12px;
    --btn-font-sm: 14px;
    --btn-font-md: 16px;
    --btn-font-lg: 18px;
    --btn-font-xl: 20px;
    --btn-font-jumbo: 24px;
    
    /* Transitions */
    --btn-transition-speed: 0.3s;
    --btn-transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Rayons de bordure */
    --btn-radius-default: 12px;
    --btn-radius-rounded: 9999px;
    --btn-radius-square: 0;
}

/* Mode sombre */
@media (prefers-color-scheme: dark) {
    :root {
        --btn-primary-bg: rgba(59, 130, 246, 0.15);
        --btn-secondary-bg: rgba(107, 114, 128, 0.15);
        --btn-glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
}

/* ========================================
   STYLES DE BASE
   ======================================== */
.ui-button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-weight: 500;
    cursor: pointer;
    user-select: none;
    outline: none;
    border: 1px solid;
    overflow: hidden;
    white-space: nowrap;
    text-decoration: none;
    vertical-align: middle;
    line-height: 1;
    -webkit-tap-highlight-color: transparent;
    transition: all var(--btn-transition-speed) var(--btn-transition-timing);
    transform-origin: center;
}

/* Empêcher le focus sur le contenu interne */
.ui-button * {
    pointer-events: none;
}

/* États de base */
.ui-button:active {
    transition-duration: 0.1s;
}

/* ========================================
   TYPES DE BOUTONS
   ======================================== */

/* Primary */
.ui-button.primary {
    background: var(--btn-primary-bg);
    color: var(--btn-primary-color);
    border-color: var(--btn-primary-border);
}

.ui-button.primary:hover {
    background: var(--btn-primary-hover);
    transform: translateY(-1px) scale(1.02);
}

.ui-button.primary:active {
    background: var(--btn-primary-active);
    transform: translateY(0) scale(0.98);
}

/* Secondary */
.ui-button.secondary {
    background: var(--btn-secondary-bg);
    color: var(--btn-secondary-color);
    border-color: var(--btn-secondary-border);
}

.ui-button.secondary:hover {
    background: rgba(107, 114, 128, 0.2);
    transform: translateY(-1px) scale(1.02);
}

/* Success */
.ui-button.success {
    background: var(--btn-success-bg);
    color: var(--btn-success-color);
    border-color: var(--btn-success-border);
}

.ui-button.success:hover {
    background: rgba(34, 197, 94, 0.2);
    transform: translateY(-1px) scale(1.02);
}

/* Danger */
.ui-button.danger {
    background: var(--btn-danger-bg);
    color: var(--btn-danger-color);
    border-color: var(--btn-danger-border);
}

.ui-button.danger:hover {
    background: rgba(239, 68, 68, 0.2);
    transform: translateY(-1px) scale(1.02);
}

/* Warning */
.ui-button.warning {
    background: var(--btn-warning-bg);
    color: var(--btn-warning-color);
    border-color: var(--btn-warning-border);
}

/* Info */
.ui-button.info {
    background: var(--btn-info-bg);
    color: var(--btn-info-color);
    border-color: var(--btn-info-border);
}

/* Light */
.ui-button.light {
    background: rgba(249, 250, 251, 0.9);
    color: #374151;
    border-color: rgba(229, 231, 235, 0.8);
}

/* Dark */
.ui-button.dark {
    background: rgba(31, 41, 55, 0.9);
    color: #e5e7eb;
    border-color: rgba(75, 85, 99, 0.8);
}

/* Ghost */
.ui-button.ghost {
    background: transparent;
    color: #6b7280;
    border-color: transparent;
}

.ui-button.ghost:hover {
    background: rgba(107, 114, 128, 0.1);
}

/* Outline */
.ui-button.outline {
    background: transparent;
    color: #3b82f6;
    border-color: rgba(59, 130, 246, 0.5);
    border-width: 2px;
}

.ui-button.outline:hover {
    background: rgba(59, 130, 246, 0.1);
    border-color: #3b82f6;
}

/* Text */
.ui-button.text {
    background: transparent;
    color: #3b82f6;
    border-color: transparent;
    padding: 4px 8px;
}

.ui-button.text:hover {
    background: rgba(59, 130, 246, 0.05);
    text-decoration: underline;
}

/* Gradient */
.ui-button.gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #ffffff;
    border-color: transparent;
}

.ui-button.gradient:hover {
    filter: brightness(1.1);
    transform: translateY(-2px) scale(1.02);
}

.ui-button.gradient:active {
    filter: brightness(0.95);
}

/* Neon */
.ui-button.neon {
    background: rgba(167, 139, 250, 0.1);
    color: #a78bfa;
    border-color: rgba(167, 139, 250, 0.5);
    box-shadow: 0 0 20px rgba(167, 139, 250, 0.5),
                inset 0 0 20px rgba(167, 139, 250, 0.1);
    text-shadow: 0 0 10px currentColor;
}

.ui-button.neon:hover {
    box-shadow: 0 0 30px rgba(167, 139, 250, 0.8),
                inset 0 0 20px rgba(167, 139, 250, 0.2);
    transform: translateY(-2px) scale(1.05);
}

/* Glass */
.ui-button.glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    color: #1f2937;
    border-color: rgba(255, 255, 255, 0.2);
}

/* ========================================
   STYLES VISUELS
   ======================================== */

/* Glassmorphism (défaut) */
.ui-button.glassmorphism {
    backdrop-filter: blur(var(--btn-glass-blur)) brightness(var(--btn-glass-brightness));
    -webkit-backdrop-filter: blur(var(--btn-glass-blur)) brightness(var(--btn-glass-brightness));
    box-shadow: var(--btn-glass-shadow),
                var(--btn-glass-inner-light),
                var(--btn-glass-inner-shadow);
    border-radius: var(--btn-radius-default);
}

/* Effet de brillance glassmorphism */
.ui-button.glassmorphism::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.25) 0%,
        rgba(255, 255, 255, 0) 40%,
        rgba(255, 255, 255, 0) 60%,
        rgba(255, 255, 255, 0.1) 100%
    );
    pointer-events: none;
    opacity: 0.7;
    transition: opacity var(--btn-transition-speed);
}

.ui-button.glassmorphism:hover::before {
    opacity: 1;
}

/* Neumorphism */
.ui-button.neumorphism {
    background: #e0e0e0;
    box-shadow: 20px 20px 60px #bebebe,
                -20px -20px 60px #ffffff;
    border: none;
    border-radius: 20px;
}

.ui-button.neumorphism:hover {
    box-shadow: 25px 25px 70px #bebebe,
                -25px -25px 70px #ffffff;
}

.ui-button.neumorphism:active {
    box-shadow: inset 10px 10px 30px #bebebe,
                inset -10px -10px 30px #ffffff;
}

/* Material */
.ui-button.material {
    box-shadow: 0 3px 1px -2px rgba(0,0,0,.2),
                0 2px 2px 0 rgba(0,0,0,.14),
                0 1px 5px 0 rgba(0,0,0,.12);
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 500;
}

.ui-button.material:hover {
    box-shadow: 0 2px 4px -1px rgba(0,0,0,.2),
                0 4px 5px 0 rgba(0,0,0,.14),
                0 1px 10px 0 rgba(0,0,0,.12);
}

.ui-button.material:active {
    box-shadow: 0 5px 5px -3px rgba(0,0,0,.2),
                0 8px 10px 1px rgba(0,0,0,.14),
                0 3px 14px 2px rgba(0,0,0,.12);
}

/* Minimal */
.ui-button.minimal {
    box-shadow: none;
    border-radius: 6px;
}

/* Flat */
.ui-button.flat {
    box-shadow: none;
    border-radius: 0;
}

/* Brutal */
.ui-button.brutal {
    background: #fff;
    color: #000;
    box-shadow: 4px 4px 0 #000;
    border: 3px solid #000;
    border-radius: 0;
    font-weight: 900;
    transition-duration: 0.1s;
}

.ui-button.brutal:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 #000;
}

.ui-button.brutal:active {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0 #000;
}

/* Retro */
.ui-button.retro {
    background: #ffeaa7;
    color: #2d3436;
    box-shadow: 4px 4px 0 #ff6b6b;
    border: 2px solid #4ecdc4;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
}

.ui-button.retro:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 #ff6b6b;
}

/* 3D */
.ui-button.3d {
    background: linear-gradient(to bottom, #4CAF50 0%, #45a049 100%);
    color: white;
    box-shadow: 0 10px 0 #2e7d32,
                0 20px 20px rgba(0,0,0,0.2);
    border-radius: 10px;
    border: none;
    transform: rotateX(20deg);
    transform-style: preserve-3d;
}

.ui-button.3d:hover {
    transform: rotateX(20deg) translateY(-2px);
}

.ui-button.3d:active {
    transform: rotateX(20deg) translateY(5px);
    box-shadow: 0 5px 0 #2e7d32,
                0 10px 10px rgba(0,0,0,0.2);
}

/* ========================================
   TAILLES
   ======================================== */

/* Extra Small */
.ui-button.xs {
    padding: var(--btn-padding-xs);
    font-size: var(--btn-font-xs);
    height: var(--btn-height-xs);
}

.ui-button.xs .button-icon {
    font-size: 14px;
}

/* Small */
.ui-button.sm {
    padding: var(--btn-padding-sm);
    font-size: var(--btn-font-sm);
    height: var(--btn-height-sm);
}

.ui-button.sm .button-icon {
    font-size: 16px;
}

/* Medium (défaut) */
.ui-button.md {
    padding: var(--btn-padding-md);
    font-size: var(--btn-font-md);
    height: var(--btn-height-md);
}

.ui-button.md .button-icon {
    font-size: 20px;
}

/* Large */
.ui-button.lg {
    padding: var(--btn-padding-lg);
    font-size: var(--btn-font-lg);
    height: var(--btn-height-lg);
}

.ui-button.lg .button-icon {
    font-size: 24px;
}

/* Extra Large */
.ui-button.xl {
    padding: var(--btn-padding-xl);
    font-size: var(--btn-font-xl);
    height: var(--btn-height-xl);
}

.ui-button.xl .button-icon {
    font-size: 28px;
}

/* Jumbo */
.ui-button.jumbo {
    padding: var(--btn-padding-jumbo);
    font-size: var(--btn-font-jumbo);
    height: var(--btn-height-jumbo);
}

.ui-button.jumbo .button-icon {
    font-size: 32px;
}

/* ========================================
   ÉTATS ET INTERACTIONS
   ======================================== */

/* Disabled */
.ui-button:disabled,
.ui-button.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
    transform: none !important;
}

/* Loading */
.ui-button.loading {
    color: transparent;
    pointer-events: none;
}

.ui-button.loading > *:not(.button-loading-icon) {
    opacity: 0;
}

/* Active */
.ui-button.active {
    background: var(--btn-primary-active);
    transform: scale(0.98);
}

/* Focus */
.ui-button:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
}

/* Full width */
.ui-button.full-width {
    width: 100%;
}

/* Icon only */
.ui-button.icon-only {
    padding: 8px;
    min-width: auto;
    aspect-ratio: 1;
}

.ui-button.icon-only.xs { padding: 6px; }
.ui-button.icon-only.sm { padding: 8px; }
.ui-button.icon-only.md { padding: 10px; }
.ui-button.icon-only.lg { padding: 12px; }
.ui-button.icon-only.xl { padding: 14px; }

/* Rounded */
.ui-button.rounded {
    border-radius: var(--btn-radius-rounded);
}

/* ========================================
   ANIMATIONS
   ======================================== */

/* Keyframes */
@keyframes button-pulse {
    0%, 100% { 
        opacity: 1; 
        transform: scale(1); 
    }
    50% { 
        opacity: 0.8; 
        transform: scale(0.98); 
    }
}

@keyframes button-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes button-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes button-press {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

@keyframes button-glitch {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
}

@keyframes button-glitch-active {
    0%, 100% { transform: translate(0) scale(1); }
    25% { transform: translate(-1px, 1px) scale(0.98); }
    50% { transform: translate(1px, -1px) scale(0.98); }
    75% { transform: translate(-1px, -1px) scale(0.98); }
}

@keyframes dots {
    0%, 80%, 100% { 
        opacity: 0; 
        transform: scale(0); 
    }
    40% { 
        opacity: 1; 
        transform: scale(1); 
    }
}

@keyframes skeleton {
    0% { background-position: -200px 0; }
    100% { background-position: calc(200px + 100%) 0; }
}

@keyframes ripple {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

@keyframes particle-float {
    0% {
        transform: translate(0, 0) scale(0);
        opacity: 1;
    }
    50% {
        transform: translate(var(--x), var(--y)) scale(1);
        opacity: 0.8;
    }
    100% {
        transform: translate(calc(var(--x) * 2), calc(var(--y) * 2)) scale(0);
        opacity: 0;
    }
}

@keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
    20%, 40%, 60%, 80% { transform: translateX(2px); }
}

@keyframes confetti-fall {
    0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
    }
}

@keyframes dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 90, 200;
        stroke-dashoffset: -35px;
    }
    100% {
        stroke-dasharray: 90, 200;
        stroke-dashoffset: -124px;
    }
}

@keyframes badge-bounce {
    0% { transform: scale(0); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* Classes d'animation */
.ui-button.animate-subtle:hover {
    transform: translateY(-1px);
    transition-duration: 0.2s;
}

.ui-button.animate-subtle:active {
    transform: translateY(0);
    transition-duration: 0.1s;
}

.ui-button.animate-smooth:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
    transition-duration: 0.3s;
}

.ui-button.animate-smooth:active {
    transform: translateY(0);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
}

.ui-button.animate-rich:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
    transition-duration: 0.4s;
    transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}

.ui-button.animate-rich:active {
    transform: translateY(0) scale(0.98);
}

.ui-button.animate-playful:hover {
    transform: rotate(-5deg) scale(1.1);
    transition-duration: 0.3s;
    transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.ui-button.animate-playful:active {
    transform: rotate(5deg) scale(0.9);
}

.ui-button.animate-elastic:hover {
    transform: scale(1.05);
    transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.ui-button.animate-elastic:active {
    transform: scale(0.95);
}

.ui-button.animate-bounce:hover {
    animation: button-bounce 0.5s ease-in-out;
}

.ui-button.animate-morphing:hover {
    border-radius: 50px;
    transition-duration: 0.4s;
}

.ui-button.animate-morphing:active {
    border-radius: 5px;
    transition-duration: 0.2s;
}

.ui-button.animate-glitch:hover {
    animation: button-glitch 0.3s ease;
}

.ui-button.animate-glitch:active {
    animation: button-glitch-active 0.1s ease;
}

/* ========================================
   COMPOSANTS INTERNES
   ======================================== */

/* Spinner de chargement */
.button-spinner {
    position: absolute;
    width: 20px;
    height: 20px;
    animation: button-spin 1s linear infinite;
}

.button-spinner-circle {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
    animation: dash 1.5s ease-in-out infinite;
    stroke-linecap: round;
}

/* Points de chargement */
.button-dots {
    position: absolute;
    display: flex;
    gap: 4px;
}

.button-dots span {
    width: 6px;
    height: 6px;
    background: currentColor;
    border-radius: 50%;
    animation: dots 1.4s ease-in-out infinite both;
}

.button-dots span:nth-child(1) { animation-delay: -0.32s; }
.button-dots span:nth-child(2) { animation-delay: -0.16s; }

/* Effet ripple */
.button-ripple {
    position: absolute;
    border-radius: 50%;
    transform: scale(0);
    animation: ripple 0.6s ease-out;
    pointer-events: none;
    background: rgba(255, 255, 255, 0.5);
}

/* Badge */
.button-badge {
    position: absolute;
    min-width: 18px;
    height: 18px;
    padding: 0 4px;
    background: #ef4444;
    color: white;
    font-size: 11px;
    font-weight: 600;
    border-radius: 9px;
    display: flex;
    align-items: center;
    justify-content: center;
    top: -6px;
    right: -6px;
    animation: badge-bounce 0.3s ease;
}

/* Icône */
.button-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* Barre de progression */
.button-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: currentColor;
    opacity: 0.3;
    transition: width 0.3s ease;
}

/* Tooltip */
.button-tooltip {
    position: absolute;
    padding: 6px 12px;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    font-size: 12px;
    border-radius: 4px;
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    transform: translateY(5px);
    transition: all 0.3s ease;
    z-index: 1000;
}

.button-tooltip.show {
    opacity: 1;
    transform: translateY(0);
}

.button-tooltip::before {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border: 4px solid transparent;
}

.button-tooltip.top {
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%) translateY(5px);
}

.button-tooltip.top.show {
    transform: translateX(-50%) translateY(0);
}

.button-tooltip.top::before {
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-top-color: rgba(0, 0, 0, 0.9);
}

/* Conteneur de particules */
.button-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: visible;
}

.particle {
    position: absolute;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    animation: particle-float 1s ease-out forwards;
}

/* Effet shimmer */
.ui-button.shimmer::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.4),
        transparent
    );
    animation: shimmer 2s infinite;
}

/* Animation shake */
.ui-button.shake {
    animation: shake 0.5s ease;
}

/* ========================================
   VARIANTES SPÉCIALES
   ======================================== */

/* Groupe de boutons */
.button-group {
    display: inline-flex;
    gap: -1px;
}

.button-group .ui-button {
    border-radius: 0;
}

.button-group .ui-button:first-child {
    border-top-left-radius: var(--radius, 12px);
    border-bottom-left-radius: var(--radius, 12px);
}

.button-group .ui-button:last-child {
    border-top-right-radius: var(--radius, 12px);
    border-bottom-right-radius: var(--radius, 12px);
}

.button-group .ui-button:not(:last-child) {
    border-right: none;
}

/* Split button */
.split-button {
    display: inline-flex;
    position: relative;
}

.split-button .ui-button:first-child {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    padding-right: 12px;
}

.split-button .ui-button:last-child {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-left: 0;
    padding: 0 8px;
    min-width: auto;
}

.split-button .ui-button:last-child::before {
    content: '';
    position: absolute;
    left: 0;
    top: 20%;
    bottom: 20%;
    width: 1px;
    background: currentColor;
    opacity: 0.2;
}

/* Floating Action Button */
.ui-button.fab {
    position: fixed;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    padding: 0;
    z-index: 1000;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

.ui-button.fab:hover {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
    transform: translateY(-2px);
}

.ui-button.fab:active {
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transform: translateY(0);
}

.ui-button.fab.mini {
    width: 40px;
    height: 40px;
}

/* Conteneur de confettis */
.confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff6b6b;
    animation: confetti-fall 3s ease-out forwards;
}

/* ========================================
   RESPONSIVE
   ======================================== */
@media (max-width: 640px) {
    /* Réduire la taille sur mobile */
    .ui-button.lg,
    .ui-button.xl,
    .ui-button.jumbo {
        padding: var(--btn-padding-md);
        font-size: var(--btn-font-md);
        height: var(--btn-height-md);
    }
    
    /* FAB plus petit sur mobile */
    .ui-button.fab {
        width: 48px;
        height: 48px;
    }
    
    /* Ajuster les groupes */
    .button-group {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .button-group .ui-button {
        border-radius: var(--btn-radius-default) !important;
        border-right: 1px solid !important;
    }
}

/* Support tactile */
@media (hover: none) {
    .ui-button:active {
        transition-duration: 0.05s;
    }
    
    /* Désactiver les effets hover sur tactile */
    .ui-button:hover {
        transform: none;
    }
}

/* ========================================
   ACCESSIBILITÉ
   ======================================== */

/* Focus clavier amélioré */
.ui-button:focus-visible {
    outline: 3px solid currentColor;
    outline-offset: 3px;
}

/* Préférences de mouvement réduit */
@media (prefers-reduced-motion: reduce) {
    .ui-button,
    .ui-button * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .ui-button:hover {
        transform: none !important;
    }
}

/* Mode contraste élevé */
@media (prefers-contrast: high) {
    .ui-button {
        border-width: 2px;
    }
    
    .ui-button.glassmorphism {
        background: rgba(255, 255, 255, 0.9);
        color: #000;
    }
    
    .dark .ui-button.glassmorphism,
    [data-theme="dark"] .ui-button.glassmorphism {
        background: rgba(0, 0, 0, 0.9);
        color: #fff;
    }
    
    .ui-button:focus-visible {
        outline-width: 4px;
    }
}

/* ========================================
   THÈMES
   ======================================== */

/* Mode sombre */
.dark .ui-button,
[data-theme="dark"] .ui-button {
    color: #e5e7eb;
}

.dark .ui-button.glassmorphism,
[data-theme="dark"] .ui-button.glassmorphism {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.dark .ui-button.glassmorphism:hover,
[data-theme="dark"] .ui-button.glassmorphism:hover {
    background: rgba(255, 255, 255, 0.08);
}

.dark .ui-button.neumorphism,
[data-theme="dark"] .ui-button.neumorphism {
    background: #1a1a1a;
    box-shadow: 10px 10px 20px #0d0d0d,
                -10px -10px 20px #272727;
}

/* ========================================
   SUPPORT NAVIGATEURS
   ======================================== */

/* Fallback pour backdrop-filter */
@supports not (backdrop-filter: blur(20px)) {
    .ui-button.glassmorphism {
        background: rgba(255, 255, 255, 0.95);
    }
    
    .dark .ui-button.glassmorphism,
    [data-theme="dark"] .ui-button.glassmorphism {
        background: rgba(30, 30, 30, 0.95);
    }
}

/* Fallback pour gap dans flexbox */
@supports not (gap: 8px) {
    .ui-button > * + * {
        margin-left: 8px;
    }
    
    .button-group > * + * {
        margin-left: -1px;
    }
}

/* ========================================
   HISTORIQUE DES DIFFICULTÉS
   
   [2024-01] - Performance des animations multiples
   Solution: Utilisation de transform et opacity uniquement
   
   [2024-01] - Compatibilité backdrop-filter
   Solution: Fallback avec background opaque
   
   [2024-01] - États tactiles vs desktop
   Solution: Media query hover: none
   
   NOTES POUR REPRISES FUTURES:
   - Les animations peuvent être désactivées globalement
   - Le glassmorphism nécessite backdrop-filter
   - Les variables CSS permettent la personnalisation
   - Les effets 3D utilisent transform-style: preserve-3d
   ======================================== */