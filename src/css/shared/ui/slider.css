/* ========================================
   SLIDER.CSS - Styles pour le composant Slider
   Chemin: src/css/shared/ui/slider.css
   
   DESCRIPTION:
   Styles complets pour le système de sliders avec effet glassmorphism.
   Supporte tous les types, orientations, tailles et animations.
   
   STRUCTURE:
   1. Variables et configuration (lignes 20-120)
   2. Styles de base (lignes 122-350)
   3. Variantes par style (lignes 352-600)
   4. Orientations (lignes 602-750)
   5. Tailles (lignes 752-900)
   6. Animations (lignes 902-1200)
   7. États et interactions (lignes 1202-1400)
   8. Responsive (lignes 1402-1500)
   
   DÉPENDANCES:
   - slider.component.js (utilise toutes ces classes)
   ======================================== */

/* ========================================
   VARIABLES ET CONFIGURATION
   ======================================== */
:root {
    /* Couleurs principales */
    --slider-primary: #3b82f6;
    --slider-primary-hover: #2563eb;
    --slider-primary-active: #1d4ed8;
    
    /* Glassmorphism */
    --slider-glass-bg: rgba(255, 255, 255, 0.1);
    --slider-glass-bg-hover: rgba(255, 255, 255, 0.15);
    --slider-glass-border: rgba(255, 255, 255, 0.2);
    --slider-glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    --slider-backdrop-blur: 20px;
    
    /* Track */
    --slider-track-bg: rgba(255, 255, 255, 0.2);
    --slider-track-height: 6px;
    --slider-track-radius: 100px;
    
    /* Handle */
    --slider-handle-size: 20px;
    --slider-handle-bg: var(--slider-primary);
    --slider-handle-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    --slider-handle-hover-scale: 1.1;
    --slider-handle-active-scale: 1.2;
    
    /* Fill */
    --slider-fill-bg: var(--slider-primary);
    --slider-fill-opacity: 0.8;
    
    /* Marks */
    --slider-mark-size: 4px;
    --slider-mark-color: rgba(255, 255, 255, 0.3);
    --slider-mark-active-color: var(--slider-primary);
    
    /* Tooltips */
    --slider-tooltip-bg: rgba(0, 0, 0, 0.9);
    --slider-tooltip-color: #fff;
    --slider-tooltip-padding: 6px 12px;
    --slider-tooltip-radius: 6px;
    --slider-tooltip-font-size: 12px;
    
    /* Espacement */
    --slider-spacing-xs: 4px;
    --slider-spacing-sm: 8px;
    --slider-spacing-md: 16px;
    --slider-spacing-lg: 24px;
    
    /* Transitions */
    --slider-transition-speed: 0.3s;
    --slider-transition-easing: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Z-index */
    --slider-handle-z: 3;
    --slider-fill-z: 2;
    --slider-track-z: 1;
    --slider-mark-z: 4;
    --slider-tooltip-z: 5;
}

/* Mode sombre */
@media (prefers-color-scheme: dark) {
    :root {
        --slider-glass-bg: rgba(255, 255, 255, 0.05);
        --slider-glass-bg-hover: rgba(255, 255, 255, 0.08);
        --slider-glass-border: rgba(255, 255, 255, 0.1);
        --slider-glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        --slider-track-bg: rgba(255, 255, 255, 0.1);
        --slider-mark-color: rgba(255, 255, 255, 0.2);
    }
}

/* ========================================
   STYLES DE BASE
   ======================================== */
.slider-container {
    position: relative;
    display: flex;
    align-items: center;
    min-height: var(--slider-handle-size);
    padding: var(--slider-spacing-md) 0;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

/* Track principal */
.slider-track {
    position: relative;
    width: 100%;
    height: var(--slider-track-height);
    background: var(--slider-track-bg);
    border-radius: var(--slider-track-radius);
    cursor: pointer;
    overflow: visible;
    z-index: var(--slider-track-z);
    transition: all var(--slider-transition-speed) var(--slider-transition-easing);
}

/* Barre de remplissage */
.slider-fill {
    position: absolute;
    height: 100%;
    background: var(--slider-fill-bg);
    opacity: var(--slider-fill-opacity);
    border-radius: inherit;
    z-index: var(--slider-fill-z);
    transition: all var(--slider-transition-speed) var(--slider-transition-easing);
    pointer-events: none;
}

/* Handle (poignée) */
.slider-handle {
    position: absolute;
    width: var(--slider-handle-size);
    height: var(--slider-handle-size);
    background: var(--slider-handle-bg);
    border-radius: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    cursor: grab;
    z-index: var(--slider-handle-z);
    transition: all var(--slider-transition-speed) var(--slider-transition-easing);
    box-shadow: var(--slider-handle-shadow);
    display: flex;
    align-items: center;
    justify-content: center;
}

.slider-handle:hover {
    transform: translate(-50%, -50%) scale(var(--slider-handle-hover-scale));
}

.slider-handle:active,
.slider-handle.dragging {
    cursor: grabbing;
    transform: translate(-50%, -50%) scale(var(--slider-handle-active-scale));
}

.slider-handle:focus {
    outline: none;
}

.slider-handle:focus-visible {
    box-shadow: 
        var(--slider-handle-shadow),
        0 0 0 3px rgba(59, 130, 246, 0.5);
}

/* Tooltip */
.slider-tooltip {
    position: absolute;
    bottom: calc(100% + var(--slider-spacing-sm));
    left: 50%;
    transform: translateX(-50%);
    background: var(--slider-tooltip-bg);
    color: var(--slider-tooltip-color);
    padding: var(--slider-tooltip-padding);
    border-radius: var(--slider-tooltip-radius);
    font-size: var(--slider-tooltip-font-size);
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    transition: opacity var(--slider-transition-speed) var(--slider-transition-easing);
    z-index: var(--slider-tooltip-z);
}

.slider-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 4px solid transparent;
    border-top-color: var(--slider-tooltip-bg);
}

.slider-handle:hover .slider-tooltip,
.slider-handle.dragging .slider-tooltip,
.slider-tooltip.always-visible {
    opacity: 1;
}

/* Marks */
.slider-marks {
    position: absolute;
    inset: 0;
    pointer-events: none;
}

.slider-mark {
    position: absolute;
    width: var(--slider-mark-size);
    height: var(--slider-mark-size);
    background: var(--slider-mark-color);
    border-radius: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: all var(--slider-transition-speed) var(--slider-transition-easing);
    z-index: var(--slider-mark-z);
}

.slider-mark.active {
    background: var(--slider-mark-active-color);
    transform: translate(-50%, -50%) scale(1.5);
}

.slider-mark-label {
    position: absolute;
    top: calc(100% + var(--slider-spacing-xs));
    left: 50%;
    transform: translateX(-50%);
    font-size: 11px;
    color: var(--slider-mark-color);
    white-space: nowrap;
}

/* Labels */
.slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: var(--slider-spacing-md);
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
}

.slider-labels-top {
    margin-top: 0;
    margin-bottom: var(--slider-spacing-md);
}

/* ========================================
   STYLE GLASSMORPHISM
   ======================================== */
.slider-glassmorphism .slider-track {
    background: var(--slider-glass-bg);
    backdrop-filter: blur(var(--slider-backdrop-blur));
    -webkit-backdrop-filter: blur(var(--slider-backdrop-blur));
    border: 1px solid var(--slider-glass-border);
    box-shadow: 
        var(--slider-glass-shadow),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.slider-glassmorphism .slider-handle {
    background: var(--slider-glass-bg);
    backdrop-filter: blur(var(--slider-backdrop-blur));
    -webkit-backdrop-filter: blur(var(--slider-backdrop-blur));
    border: 1px solid var(--slider-glass-border);
    box-shadow: 
        0 4px 16px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.2),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
}

.slider-glassmorphism .slider-handle::before {
    content: '';
    position: absolute;
    inset: 2px;
    background: var(--slider-primary);
    border-radius: 50%;
    opacity: 0.8;
    transition: all var(--slider-transition-speed) var(--slider-transition-easing);
}

.slider-glassmorphism .slider-handle:hover::before {
    transform: scale(1.1);
    opacity: 1;
}

.slider-glassmorphism .slider-fill {
    background: linear-gradient(
        90deg,
        var(--slider-primary),
        var(--slider-primary-hover)
    );
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

/* Glow effect */
.slider-handle-glow {
    position: absolute;
    inset: -10px;
    background: radial-gradient(
        circle,
        rgba(59, 130, 246, 0.3) 0%,
        transparent 70%
    );
    opacity: 0;
    transition: opacity var(--slider-transition-speed) var(--slider-transition-easing);
    pointer-events: none;
}

.slider-handle:hover .slider-handle-glow,
.slider-handle-glow.active {
    opacity: 1;
}

/* ========================================
   STYLE NEUMORPHISM
   ======================================== */
.slider-neumorphism {
    background: #e0e5ec;
    padding: var(--slider-spacing-lg);
    border-radius: 20px;
}

.slider-neumorphism .slider-track {
    background: #e0e5ec;
    box-shadow: 
        inset 4px 4px 8px #a3b1c6,
        inset -4px -4px 8px #ffffff;
}

.slider-neumorphism .slider-handle {
    background: #e0e5ec;
    box-shadow: 
        6px 6px 12px #a3b1c6,
        -6px -6px 12px #ffffff;
}

.slider-neumorphism .slider-handle:active {
    box-shadow: 
        inset 2px 2px 4px #a3b1c6,
        inset -2px -2px 4px #ffffff;
}

/* ========================================
   STYLE FLAT
   ======================================== */
.slider-flat .slider-track {
    background: #e5e7eb;
    border: none;
    box-shadow: none;
}

.slider-flat .slider-handle {
    background: var(--slider-primary);
    border: 2px solid #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.slider-flat .slider-fill {
    background: var(--slider-primary);
    opacity: 0.3;
}

/* ========================================
   STYLE MINIMAL
   ======================================== */
.slider-minimal .slider-track {
    height: 2px;
    background: rgba(0, 0, 0, 0.1);
}

.slider-minimal .slider-handle {
    width: 16px;
    height: 16px;
    background: var(--slider-primary);
    border: none;
    box-shadow: none;
}

.slider-minimal .slider-fill {
    background: var(--slider-primary);
    opacity: 1;
}

/* ========================================
   STYLE MATERIAL
   ======================================== */
.slider-material .slider-track {
    height: 4px;
    background: rgba(0, 0, 0, 0.26);
}

.slider-material .slider-handle {
    background: var(--slider-primary);
    box-shadow: 
        0 1px 5px 0 rgba(0, 0, 0, 0.2),
        0 2px 2px 0 rgba(0, 0, 0, 0.14),
        0 3px 1px -2px rgba(0, 0, 0, 0.12);
}

.slider-material .slider-fill {
    background: var(--slider-primary);
}

/* Ripple effect */
.slider-ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    animation: ripple 0.6s ease-out;
    pointer-events: none;
}

@keyframes ripple {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

/* ========================================
   ORIENTATION VERTICALE
   ======================================== */
.slider-vertical {
    flex-direction: column;
    height: 200px;
    width: auto;
    padding: 0 var(--slider-spacing-md);
}

.slider-vertical .slider-track {
    width: var(--slider-track-height);
    height: 100%;
}

.slider-vertical .slider-fill {
    width: 100%;
    height: auto;
    bottom: 0;
}

.slider-vertical .slider-handle {
    left: 50%;
    top: auto;
    transform: translate(-50%, 50%);
}

.slider-vertical .slider-handle:hover {
    transform: translate(-50%, 50%) scale(var(--slider-handle-hover-scale));
}

.slider-vertical .slider-handle:active,
.slider-vertical .slider-handle.dragging {
    transform: translate(-50%, 50%) scale(var(--slider-handle-active-scale));
}

.slider-vertical .slider-tooltip {
    bottom: auto;
    right: calc(100% + var(--slider-spacing-sm));
    left: auto;
    top: 50%;
    transform: translateY(-50%);
}

.slider-vertical .slider-tooltip::after {
    top: 50%;
    left: 100%;
    right: auto;
    transform: translateY(-50%);
    border: 4px solid transparent;
    border-left-color: var(--slider-tooltip-bg);
}

.slider-vertical .slider-mark {
    left: 50%;
    top: auto;
}

.slider-vertical .slider-mark-label {
    top: auto;
    left: calc(100% + var(--slider-spacing-xs));
    transform: translateY(-50%);
}

/* ========================================
   TAILLES
   ======================================== */

/* Extra Small */
.slider-xs {
    --slider-track-height: 2px;
    --slider-handle-size: 12px;
    --slider-mark-size: 2px;
    --slider-tooltip-font-size: 11px;
    padding: var(--slider-spacing-sm) 0;
}

/* Small */
.slider-sm {
    --slider-track-height: 4px;
    --slider-handle-size: 16px;
    --slider-mark-size: 3px;
    --slider-tooltip-font-size: 12px;
}

/* Medium (par défaut) */
.slider-md {
    /* Utilise les valeurs par défaut */
}

/* Large */
.slider-lg {
    --slider-track-height: 8px;
    --slider-handle-size: 24px;
    --slider-mark-size: 5px;
    --slider-tooltip-font-size: 14px;
    padding: var(--slider-spacing-lg) 0;
}

/* Extra Large */
.slider-xl {
    --slider-track-height: 10px;
    --slider-handle-size: 28px;
    --slider-mark-size: 6px;
    --slider-tooltip-font-size: 16px;
    padding: var(--slider-spacing-lg) 0;
}

/* ========================================
   ANIMATIONS
   ======================================== */

/* Animation subtile */
.slider-container[data-animation="subtle"] .slider-handle {
    transition-duration: 0.2s;
}

.slider-container[data-animation="subtle"] .slider-fill {
    transition-duration: 0.2s;
}

/* Animation fluide */
.slider-container[data-animation="smooth"] .slider-handle {
    transition-duration: 0.3s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

.slider-container[data-animation="smooth"] .slider-fill {
    transition-duration: 0.3s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Animation riche */
.slider-container[data-animation="rich"] .slider-handle {
    transition-duration: 0.4s;
    transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.slider-container[data-animation="rich"] .slider-handle:hover {
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% {
        box-shadow: 
            var(--slider-handle-shadow),
            0 0 0 0 rgba(59, 130, 246, 0.4);
    }
    70% {
        box-shadow: 
            var(--slider-handle-shadow),
            0 0 0 10px rgba(59, 130, 246, 0);
    }
    100% {
        box-shadow: 
            var(--slider-handle-shadow),
            0 0 0 0 rgba(59, 130, 246, 0);
    }
}

/* Particules */
.slider-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
}

.slider-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--slider-primary);
    border-radius: 50%;
    opacity: 0;
    animation: particle 2s ease-out forwards;
}

@keyframes particle {
    0% {
        opacity: 1;
        transform: translate(0, 0) scale(0);
    }
    50% {
        opacity: 0.5;
        transform: translate(var(--x, 50px), var(--y, -50px)) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(calc(var(--x, 50px) * 2), calc(var(--y, -50px) * 2)) scale(0);
    }
}

.slider-particle:nth-child(1) { --x: 30px; --y: -40px; }
.slider-particle:nth-child(2) { --x: -40px; --y: -30px; }
.slider-particle:nth-child(3) { --x: 50px; --y: 20px; }
.slider-particle:nth-child(4) { --x: -30px; --y: 40px; }
.slider-particle:nth-child(5) { --x: 20px; --y: -50px; }

/* ========================================
   ÉTATS
   ======================================== */

/* Hover sur le conteneur */
.slider-container:hover .slider-track {
    background: var(--slider-glass-bg-hover);
}

.slider-container.hovering .slider-fill {
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.4);
}

/* État désactivé */
.slider-container.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.slider-container.disabled .slider-track,
.slider-container.disabled .slider-handle {
    cursor: not-allowed;
}

.slider-container.disabled .slider-handle:hover {
    transform: translate(-50%, -50%);
}

/* État en lecture seule */
.slider-container.readonly .slider-handle {
    cursor: default;
}

.slider-container.readonly .slider-handle:hover {
    transform: translate(-50%, -50%);
}

/* ========================================
   TYPES SPÉCIFIQUES
   ======================================== */

/* Type Range */
.slider-range .slider-fill {
    left: var(--range-start, 0%);
    width: var(--range-width, 100%);
}

/* Type Multi */
.slider-multi .slider-handle {
    z-index: calc(var(--slider-handle-z) + var(--handle-index, 0));
}

.slider-multi .slider-handle.dragging {
    z-index: calc(var(--slider-handle-z) + 10);
}

/* ========================================
   RESPONSIVE
   ======================================== */
@media (max-width: 640px) {
    .slider-container {
        --slider-spacing-md: 12px;
        --slider-spacing-lg: 16px;
    }
    
    .slider-tooltip {
        font-size: 11px;
        padding: 4px 8px;
    }
    
    .slider-vertical {
        height: 150px;
    }
}

/* Support tactile */
@media (hover: none) {
    .slider-handle {
        --slider-handle-size: 24px;
    }
    
    .slider-xs .slider-handle {
        --slider-handle-size: 16px;
    }
    
    .slider-xl .slider-handle {
        --slider-handle-size: 32px;
    }
    
    .slider-tooltip {
        opacity: 0 !important;
    }
    
    .slider-handle.dragging .slider-tooltip {
        opacity: 1 !important;
    }
}

/* ========================================
   ACCESSIBILITÉ
   ======================================== */

/* Focus visible */
.slider-handle:focus-visible {
    outline: 2px solid var(--slider-primary);
    outline-offset: 2px;
}

/* Mode contraste élevé */
@media (prefers-contrast: high) {
    .slider-track {
        border: 1px solid #000;
    }
    
    .slider-handle {
        border: 2px solid #000;
    }
    
    .slider-mark {
        border: 1px solid #000;
    }
}

/* Préférences de mouvement réduit */
@media (prefers-reduced-motion: reduce) {
    .slider-container,
    .slider-container * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ========================================
   THÈMES
   ======================================== */

/* Thème sombre */
.dark .slider-container,
[data-theme="dark"] .slider-container {
    --slider-track-bg: rgba(255, 255, 255, 0.1);
    --slider-glass-bg: rgba(255, 255, 255, 0.05);
    --slider-glass-border: rgba(255, 255, 255, 0.1);
    --slider-mark-color: rgba(255, 255, 255, 0.2);
}

/* ========================================
   UTILITAIRES
   ======================================== */

/* Classes de couleur */
.slider-primary { --slider-primary: #3b82f6; }
.slider-success { --slider-primary: #22c55e; }
.slider-warning { --slider-primary: #f59e0b; }
.slider-error { --slider-primary: #ef4444; }
.slider-info { --slider-primary: #06b6d4; }

/* ========================================
   SUPPORT NAVIGATEURS
   ======================================== */

/* Fallback pour navigateurs sans backdrop-filter */
@supports not (backdrop-filter: blur(20px)) {
    .slider-glassmorphism .slider-track {
        background: rgba(255, 255, 255, 0.9);
    }
    
    .slider-glassmorphism .slider-handle {
        background: rgba(255, 255, 255, 0.95);
    }
    
    .dark .slider-glassmorphism .slider-track {
        background: rgba(30, 30, 30, 0.9);
    }
    
    .dark .slider-glassmorphism .slider-handle {
        background: rgba(30, 30, 30, 0.95);
    }
}