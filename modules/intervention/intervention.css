/* ========================================
   INTERVENTION.CSS - Styles complets du module interventions
   Chemin: modules/intervention/intervention.css
   
   DESCRIPTION:
   Fichier unifié contenant tous les styles du module interventions.
   Fusion de intervention.css et intervention-custom.css
   
   TABLE DES MATIÈRES:
   1. Fix FOUC - Masquage initial des modales
   2. Sections du formulaire
   3. Champs spécialisés (date/heure)
   4. Sélection d'appareil
   5. Groupes de checkboxes
   6. Modal nouvelle intervention
   7. Modal détail intervention
   8. Timeline et diagnostic
   9. Badges résultats
   10. Actions et boutons
   11. Animations et overlays
   12. Responsive
   
   DÉPENDANCES:
   - /src/components/ui/common/button.css (styles boutons)
   - /src/components/ui/common/badge.css (styles badges de base)
   - /src/components/ui/stats-cards/stats-cards.css (cartes stats)
   ======================================== */

/* ========================================
   FIX FOUC - Cacher les modales au chargement
   ======================================== */
#modalNouvelleIntervention,
#modalDetailIntervention {
    display: none !important;
}

#modalNouvelleIntervention.active,
#modalDetailIntervention.active {
    display: flex !important;
}

/* ========================================
   SECTIONS DU FORMULAIRE
   ======================================== */
.section {
    margin-bottom: 25px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 10px;
    border: 1px solid #e9ecef;
}

.section-title {
    font-size: 20px;
    color: #3498db;
    margin-bottom: 15px;
    font-weight: 600;
}

/* ========================================
   CHAMPS SPÉCIALISÉS (DATE/HEURE)
   ======================================== */
input[type="date"],
input[type="time"] {
    display: block;
    min-height: 50px;
    text-align: center;
    color: #3498db;
    font-weight: 500;
    position: relative;
}

input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    padding: 10px;
}

/* Ligne date et heure */
.date-time-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

/* ========================================
   SÉLECTION D'APPAREIL
   ======================================== */
.device-selection {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin: 20px 0;
}

.device-card {
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.device-card:hover {
    border-color: #667eea;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
}

.device-card.selected {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-color: #667eea;
}

.device-card input[type="radio"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

.device-card .icon {
    font-size: 32px;
    margin-bottom: 10px;
    display: block;
}

/* ========================================
   GROUPES DE CHECKBOXES (DIAGNOSTIC/ACTIONS)
   ======================================== */
.checkbox-group {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin: 15px 0;
}

.checkbox-item {
    display: flex;
    align-items: center;
    padding: 12px;
    background: white;
    border-radius: 8px;
    border: 2px solid #e9ecef;
    cursor: pointer;
    transition: all 0.3s ease;
}

.checkbox-item:hover {
    border-color: #667eea;
    background: #f8f9ff;
    transform: translateY(-2px);
}

.checkbox-item input[type="checkbox"] {
    width: 20px;
    height: 20px;
    margin-right: 10px;
    cursor: pointer;
}

.checkbox-item label {
    cursor: pointer;
    font-size: 16px;
    margin: 0;
}

.checkbox-item input[type="checkbox"]:checked + label {
    font-weight: 600;
    color: #667eea;
}

/* ========================================
   PERSONNALISATION DES MODALES INTERVENTIONS
   ======================================== */

/* Taille des modales */
#modalNouvelleIntervention .modal-content,
#modalDetailIntervention .modal-content {
    width: 800px;
    max-width: 95%;
    height: 80vh;
    max-height: 90vh;
}

/* ========================================
   CLIENT SÉLECTIONNÉ
   ======================================== */
.client-selected {
    background: #e8f5e9;
    border: 2px solid #4caf50;
    border-radius: 8px;
    padding: 16px;
    margin-top: 24px;
    margin-bottom: 20px;
}

.client-info p {
    margin: 4px 0;
}

/* ========================================
   RÉCAPITULATIF
   ======================================== */
.recap-section {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
}

.recap-section h4 {
    color: #667eea;
    margin-bottom: 8px;
    font-size: 16px;
}

.recap-section ul {
    margin: 0;
    padding-left: 20px;
}

/* ========================================
   TIMELINE HORIZONTALE (DÉTAIL)
   ======================================== */
.timeline-horizontal {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 8px;
    margin-bottom: 20px;
}

.timeline-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    flex: 1;
    position: relative;
}

.timeline-step:not(:last-child)::after {
    content: '';
    position: absolute;
    top: 20px;
    left: 50%;
    width: 100%;
    height: 2px;
    background: #e0e0e0;
}

.timeline-step.completed::after,
.timeline-step.active::after {
    background: #667eea;
}

.timeline-icon {
    width: 40px;
    height: 40px;
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    z-index: 1;
}

.timeline-step.completed .timeline-icon,
.timeline-step.active .timeline-icon {
    border-color: #667eea;
    background: #667eea;
}

.timeline-label {
    font-size: 12px;
    color: #6c757d;
    text-align: center;
}

.timeline-step.active .timeline-label {
    font-weight: 600;
    color: #667eea;
}

/* ========================================
   SECTIONS DIAGNOSTIC (DÉTAIL)
   ======================================== */
.diagnostic-section {
    margin-bottom: 20px;
}

.diagnostic-section h4 {
    color: #495057;
    font-size: 15px;
    margin-bottom: 10px;
    font-weight: 600;
}

.diagnostic-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.diagnostic-list li {
    padding: 8px 0;
    border-bottom: 1px solid #e9ecef;
}

.diagnostic-list li:last-child {
    border-bottom: none;
}

/* ========================================
   SIGNATURES
   ======================================== */
.signatures-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

.signature-box {
    text-align: center;
}

.signature-box h5 {
    color: #495057;
    margin-bottom: 10px;
}

/* ========================================
   BADGES RÉSULTATS SPÉCIFIQUES
   ======================================== */
.badge-resultat-résolu {
    background: #d4edda;
    color: #155724;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 600;
}

.badge-resultat-partiel {
    background: #fff3cd;
    color: #856404;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 600;
}

.badge-resultat-sav {
    background: #f8d7da;
    color: #721c24;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 600;
}

.badge-resultat-ok {
    background: #d1ecf1;
    color: #0c5460;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 600;
}

/* ========================================
   BOUTONS D'ACTION
   ======================================== */
.action-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 40px;
    padding-top: 30px;
    border-top: 2px solid #e9ecef;
}

.detail-actions {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 20px;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 30px;
}

.detail-actions .btn {
    min-width: 160px;
}

/* ========================================
   MESSAGE DE SUCCÈS ET OVERLAY
   ======================================== */
.success-message {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    text-align: center;
    z-index: 1000;
    animation: checkmark 0.6s ease-out;
}

.success-message.show {
    display: block;
}

.success-icon {
    font-size: 60px;
    color: #27ae60;
    margin-bottom: 20px;
}

.overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    z-index: 999;
}

.overlay.show {
    display: block;
}

/* ========================================
   ANIMATIONS
   ======================================== */
@keyframes checkmark {
    0% { transform: translate(-50%, -50%) scale(0); }
    50% { transform: translate(-50%, -50%) scale(1.2); }
    100% { transform: translate(-50%, -50%) scale(1); }
}

/* ========================================
   FIX DROPDOWNS DANS LES MODALS
   ======================================== */
.modal .dropdown-list-panel {
    position: fixed !important;
    z-index: 10500 !important;
}

.modal .dropdown-list-wrapper {
    position: static !important;
}

/* ========================================
   RESPONSIVE INTERVENTION
   ======================================== */
@media (max-width: 768px) {
    /* Sections et titres */
    .section {
        padding: 15px;
        margin-bottom: 20px;
    }
    
    .section-title {
        font-size: 18px;
    }
    
    /* Grilles */
    .checkbox-group {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .device-selection {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .device-card {
        padding: 15px;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: flex-start;
    }
    
    .device-card .icon {
        font-size: 24px;
        margin-right: 15px;
        margin-bottom: 0;
    }
    
    .device-card div:last-child {
        text-align: left;
    }
    
    /* Timeline */
    .timeline-horizontal {
        flex-direction: column;
        gap: 20px;
    }
    
    .timeline-step::after {
        display: none;
    }
    
    /* Signatures */
    .signatures-grid {
        grid-template-columns: 1fr;
    }
    
    /* Boutons */
    .action-buttons {
        flex-direction: column;
        gap: 10px;
    }
    
    /* Date et heure */
    .date-time-row {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    /* Modales */
    #modalNouvelleIntervention .modal-content,
    #modalDetailIntervention .modal-content {
        width: 100%;
        height: 100%;
        max-height: 100%;
        border-radius: 0;
    }
}

/* ========================================
   CLASSES UTILITAIRES POUR L'IMPRESSION
   ======================================== */
@media print {
    .no-print {
        display: none !important;
    }
    
    .action-buttons {
        display: none !important;
    }
}

/* ========================================
   HISTORIQUE DES DIFFICULTÉS
   
   [02/02/2025] - Fusion des fichiers
   - Fusion de intervention.css et intervention-custom.css
   - Élimination des doublons (device-selection, checkbox-group)
   - Organisation par sections logiques
   - Conservation de tous les styles spécifiques
   
   NOTES POUR REPRISES FUTURES:
   - Les composants réutilisables ont leur propre CSS
   - Ne pas ajouter de styles génériques ici
   - Utiliser position: fixed pour dropdowns dans modals
   - Les badges génériques sont dans badge.css
   ======================================== */