<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAV Audio - D√©comptes S√©curit√© Sociale</title>
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="SAV Audio">
    <link rel="manifest" href="../../manifest.json">
    <meta name="theme-color" content="#667eea">
    
    <!-- ========================================
         CSS - Seuls les CSS globaux et du module
         Les composants chargent leurs CSS eux-m√™mes
         ======================================== -->
    
    <!-- 1. Base et layout -->
    <link rel="stylesheet" href="../../src/css/main.css">

    <!-- 2. CSS utilitaires partag√©s -->
    <link rel="stylesheet" href="../../src/components/ui/common/animation.css">
    <link rel="stylesheet" href="../../src/components/ui/common/form.css">

    <!-- 3. CSS sp√©cifique au module d√©comptes s√©curit√© sociale -->
    <link rel="stylesheet" href="./decompte-secu.css">
</head>
<body>
    <!-- Container pour le composant AppHeader -->
    <!-- AppHeader sera inject√© ici par JavaScript -->
    
        <div class="container">
            <!-- Barre d'actions et statistiques -->
            <div class="decomptes-header">
                <div class="decomptes-stats">
                    <!-- StatsCards va g√©n√©rer le contenu ici -->
                </div>
                
                <div class="decomptes-actions">
                    <button class="btn btn-primary btn-with-icon btn-lg pill" onclick="event.stopPropagation(); ouvrirNouveauDecompteSecu()">
                        <span>‚ûï</span> Nouveau d√©compte
                    </button>
                </div>
            </div>

            <!-- Filtres -->
            <div class="decomptes-filters section">
                <!-- DataTableFilters va g√©n√©rer le contenu ici -->
            </div>

            <!-- Container pour DataTable -->
            <div class="decomptes-table-container section">
                <!-- DataTable sera g√©n√©r√© ici -->
            </div>
        </div>

    <!-- Modal Nouveau D√©compte S√©cu -->
    <div id="modalNouveauDecompteSecu" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Nouveau D√©compte S√©curit√© Sociale</h2>
                <button class="modal-close">&times;</button>
            </div>
            
            <div class="modal-body">
                <!-- Le contenu sera g√©n√©r√© par decompte-secu.create.js -->
            </div>
            
            <div class="modal-footer">
                <!-- Le bouton sera ajout√© dynamiquement par JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal D√©tail D√©compte S√©cu -->
    <div id="modalDetailDecompteSecu" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>D√©tail du d√©compte <span id="detailNumDecompteSecu"></span></h2>
                <button class="modal-close">&times;</button>
            </div>
            
            <div class="modal-body">
                <!-- Timeline du statut -->
                <div class="timeline-container">
                    <div class="timeline" id="timeline-secu">
                        <!-- Timeline g√©n√©r√©e dynamiquement -->
                    </div>
                </div>
                
                <!-- Sections d√©tail -->
                <div class="detail-sections">
                    <!-- Colonne de gauche : B√©n√©ficiaire + Remboursements -->
                    <div class="detail-column-left">
                        <!-- Section B√©n√©ficiaire -->
                        <div class="detail-section">
                            <h3>üë§ B√©n√©ficiaire</h3>
                            <div id="detailBeneficiaire">
                                <!-- Contenu g√©n√©r√© dynamiquement -->
                            </div>
                        </div>
                        
                        <!-- Section Remboursements -->
                        <div class="detail-section">
                            <h3>üí∞ Remboursements</h3>
                            <div id="detailRemboursements">
                                <!-- Contenu g√©n√©r√© dynamiquement -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Colonne de droite : Caisse + Informations -->
                    <div class="detail-column-right">
                        <!-- Section Caisse et R√©gime -->
                        <div class="detail-section">
                            <h3>üè• Caisse et r√©gime</h3>
                            <div id="detailCaisse">
                                <!-- Contenu g√©n√©r√© dynamiquement -->
                            </div>
                        </div>
                        
                        <!-- Section Informations d√©compte -->
                        <div class="detail-section">
                            <h3>üìã Informations d√©compte</h3>
                            <div id="detailInformationsSecu">
                                <!-- Contenu g√©n√©r√© dynamiquement -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Section Actes m√©dicaux en pleine largeur -->
                <div class="detail-section" style="margin-top: 20px;">
                    <h3>üè• D√©tail des actes m√©dicaux</h3>
                    <div id="detailActesMedicaux">
                        <!-- Tableau des actes g√©n√©r√© dynamiquement -->
                    </div>
                </div>
                
                <!-- Nouvelle ligne pour Tra√ßabilit√© et Documents -->
                <div class="detail-sections" style="margin-top: 20px;">
                    <!-- Colonne de gauche : Tra√ßabilit√© -->
                    <div class="detail-column-left">
                        <div class="detail-section">
                            <h3>üìã Tra√ßabilit√©</h3>
                            <div id="detailTracabiliteSecu">
                                <!-- Contenu g√©n√©r√© dynamiquement -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Colonne de droite : Documents -->
                    <div class="detail-column-right">
                        <div class="detail-section">
                            <h3>üìÑ Documents</h3>
                            <div id="detailDocumentsSecu">
                                <!-- Contenu g√©n√©r√© dynamiquement -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Section Historique en pleine largeur -->
                <div class="detail-section" style="margin-top: 20px;">
                    <h3>üìú Historique des actions</h3>
                    <div id="detailHistoriqueSecu" style="max-height: 300px; overflow-y: auto;">
                        <!-- Contenu g√©n√©r√© dynamiquement -->
                    </div>
                </div>
                
                <!-- Actions selon le statut -->
                <div class="detail-actions" id="detailActionsSecu">
                    <!-- Boutons d'action g√©n√©r√©s selon le statut -->
                </div>
            </div>
        </div>
    </div>

    <!-- Container pour les dialogs custom -->
    <div id="dialog-container" class="dialog-container"></div>

    <!-- Footer -->
    <div class="footer">
        <p>Orixis - ¬© 2025</p>
    </div>

    <!-- JavaScript local au module -->
    <script type="module" src="./decompte-secu.main.js"></script>
</body>
</html>