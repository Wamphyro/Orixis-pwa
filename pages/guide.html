<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide SAV Audio - Formation compl√®te</title>
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="SAV Audio">
    <link rel="manifest" href="../manifest.json">
    <link rel="apple-touch-icon" href="../assets/images/icon-192.png">
    <meta name="theme-color" content="#667eea">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../src/css/main.css">
    <link rel="stylesheet" href="../src/css/header-layout.css">
    <link rel="stylesheet" href="../src/css/guide.css">
</head>
<body>
    <!-- Header uniforme -->
    <div class="app-header">
        <div class="app-header-content">
            <div class="app-header-left">
                <a href="home.html" class="header-back-button">
                    ‚Üê Retour
                </a>
            </div>
            <div class="app-header-center">
                <h1>üìö GUIDE DE FORMATION SAV AUDIO</h1>
                <p>INTERVENTIONS NIVEAU 1 - PERSONNEL OPTICIEN</p>
            </div>
            <div class="app-header-right"></div>
        </div>
    </div>

    <nav class="nav-menu">
        <ul>
            <li><a href="#types">Types d'appareils</a></li>
            <li><a href="#materiel">Mat√©riel obligatoire</a></li>
            <li><a href="#diagnostics">Diagnostics</a></li>
            <li><a href="#marques">Sp√©cificit√©s marques</a></li>
            <li><a href="#interdits">Interdictions</a></li>
            <li><a href="#escalade">Escalade SAV</a></li>
        </ul>
    </nav>

    <div class="container">
        <div id="guide-content">
            <!-- Le contenu sera charg√© dynamiquement -->
        </div>
    </div>

    <div class="footer">
        <p>Orixis - ¬© 2025</p>
    </div>

    <script type="module">
        import { BRAND_SPECIFICS } from '../src/js/data/brands.data.js';
        import { PROBLEM_SOLUTIONS } from '../src/js/data/problems.data.js';
        
        // V√©rification d'authentification
        function checkAuth() {
            const auth = localStorage.getItem('sav_auth');
            if (!auth) return false;
            
            const authData = JSON.parse(auth);
            const now = Date.now();
            
            if (now - authData.timestamp > authData.expiry) {
                localStorage.removeItem('sav_auth');
                return false;
            }
            
            return authData.authenticated;
        }
        
        // V√©rifier l'authentification au chargement
        window.addEventListener('load', () => {
            if (!checkAuth()) {
                window.location.href = '../index.html';
            }
            
            // Charger le contenu du guide
            loadGuideContent();
        });
        
        // Charger le contenu dynamiquement
        function loadGuideContent() {
            // Ici on pourrait charger le contenu depuis un fichier ou une API
            // Pour l'instant, on garde la structure de base
            const content = document.getElementById('guide-content');
            content.innerHTML = `
                <div class="warning-banner">
                    ‚ö†Ô∏è IMPORTANT : Ce guide est r√©serv√© aux interventions NIVEAU 1 uniquement
                </div>
                
                <section id="types" class="guide-section">
                    <h2>üéß Types d'Appareils Auditifs</h2>
                    <p>Guide de reconnaissance et sp√©cificit√©s par type...</p>
                </section>
                
                <section id="materiel" class="guide-section">
                    <h2>üîß Mat√©riel Obligatoire au Poste</h2>
                    <p>Liste du mat√©riel n√©cessaire...</p>
                </section>
                
                <!-- Autres sections... -->
            `;
        }
        
        // Smooth scrolling pour la navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
